<!DOCTYPE html>
<html>
  <head>
    <title>Bus - DAMRI(Depok - Halim)</title>
    <style>
       #map {
        height: 800px;
        width: 100%;
       }
    </style>
  </head>
  <body
   style="
    margin-top: 0px;
    margin-left: 0px;
    margin-bottom: 0px;
    margin-right: 0px;
">
    <div id="map"></div>
    <script>
      function initMap() {
        var styledMapType = new google.maps.StyledMapType(
            [ {"featureType": "water","elementType": "all","stylers": [{"hue": "#7fc8ed"},{"saturation": 55},{"lightness": -6},{"visibility": "on" }]},{"featureType": "water","elementType": "labels","stylers": [{ "hue": "#7fc8ed"}, { "saturation": 55 }, {"lightness": -6 }, {
                "visibility": "off" } ] }, { "featureType": "poi.park", "elementType": "geometry", "stylers": [ { "hue": "#83cead"  }, { "saturation": 1 }, {"lightness": -15 }, { "visibility": "on" } ] },{"featureType": "landscape","elementType": "geometry","stylers": [ { "hue": "#f3f4f4" }, { "saturation": -84 },{"lightness": 59}, { "visibility": "on"}]},{ "featureType": "landscape","elementType": "labels","stylers": [ { "hue": "#ffffff"},{"saturation": -100 }, { "lightness": 100 }, { "visibility": "off"}] }, { "featureType": "road", "elementType": "geometry", "stylers": [ { "hue": "#ffffff" }, { "saturation": -100 }, { "lightness": 100 }, { "visibility": "on" } ] }, {  "featureType": "road", "elementType": "labels", "stylers": [{"hue": "#bbbbbb" }, { "saturation": -100 },{ "lightness": 26 },{ "visibility": "on" } ] }, { "featureType": "road.arterial","elementType": "geometry","stylers": [ { "hue": "#ffcc00" }, {"saturation": 100 },{"lightness": -35 }, { "visibility": "simplified" } ] },{ "featureType": "road.highway", "elementType": "geometry", "stylers": [ { "hue": "#ffcc00" }, {"saturation": 100 },{"lightness": -22  }, { "visibility": "on" } ] }, { "featureType": "poi.school","elementType": "all","stylers": [{ "hue": "#d7e4e4" }, { "saturation": -60 }, { "lightness": 23 }, { "visibility": "on" } ]}],
            {name: 'Styled Map'});

  var dmall={lat: -6.3869204, lng: 106.8246362};
   var bandarasoetta={lat: -6.1306676, lng: 106.6542376};
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 8,
      // center: {lat:-6.8261859, lng:107.5252896},
      center: dmall,
      mapTypeControlOptions: {
            mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain',
                    'styled_map'],
          },
          disableDefaultUI: true
  });

    map.setOptions({ minZoom: 5, maxZoom: 50 });
        map.mapTypes.set('styled_map', styledMapType);
        map.setMapTypeId('styled_map');

      var contentStringLokasi = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h3 id="firstHeading" class="firstHeading">Lokasi Anda</h3>'+
          '</div>'+
          '</div>';

       var contentString = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">D mall</h1>'+
          '<div id="bodyContent">'+
        'Badan Pengelola Transportasi Jabodetabek (BPTJ) bersama Perum DAMRI meresmikan pelayanan Bus Jabodetabek Airport Connexion (JA Connexion) dari Dmall Depok (Mall Depok) ke Bandara Soekarno Hatta Tangerang Banten dan Halim Perdanakusuma Jakarta. Counter Tiket dan Waiting Area Bus JA Connexion (DAMRI) ini terletak di area belakang Dmall Depok (depan lobi Hotel Santika Depok). Pemberangkatan setiap 1 jam sekali dari Dmall Depok pukul 04.00-20.00 WIB dan Bandara pukul 05.00-22.30 WIB. '+
          '</div>'+
          '</div>';
        
     var contentString2 = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">Bandar Udara Internasional Soekarno Hatta</h1>'+
          '<div id="bodyContent">'+
        'Bandar Udara Internasional Soekarnoâ€“Hatta merupakan sebuah bandar udara utama yang melayani penerbangan untuk Jakarta, Indonesia. Bandar udara ini diberi nama sesuai dengan nama dwitunggal tokoh proklamator kemerdekaan Indonesia, Soekarno dan Mohammad Hatta, yang sekaligus merupakan Presiden dan Wakil Presiden Indonesia pertama. Bandara Soetta memiliki kode IATA CGK. Nama populer dalam masyarakat adalah Bandara Cengkareng oleh karena berdekatan dengan wilayah Cengkareng, Jakarta Barat, meskipun secara geografis berada di kecamatan Benda, Kota Tangerang.'+
         '<h5>Pencarian Google: <a target="_blank" href="https://www.google.co.id/search?q=bandara+soekarno+hatta&rlz=1C1CHBF_enID787ID787&oq=bandara+s&aqs=chrome.4.69i57j69i60l3j0l2.5138j0j7&sourceid=chrome&ie=UTF-8">'+
        'Bandara Internasional Soekarno Hatta</a>'+
        '</h5>'+
          '</div>'+
          '</div>';

      var infowindow = new google.maps.InfoWindow({
  });
  
      var markerlokasi = new google.maps.Marker({
      map: map,
      draggable: false,
      icon: 'https://thumb.ibb.co/dEh29T/markerlocation.png',
      animation: google.maps.Animation.DROP
  });

      var infoWindowlokasi = new google.maps.InfoWindow({
      content: contentStringLokasi
  });

      var marker = new google.maps.Marker({
      position: dmall,
      map: map,
      animation: google.maps.Animation.DROP,
      icon: 'https://thumb.ibb.co/gj113o/markerbus.png',
      title: 'Lobi Dmall'
  });
      var marker2 = new google.maps.Marker({
      position: bandarasoetta,
      map: map,
      animation: google.maps.Animation.DROP,
      icon: 'https://thumb.ibb.co/gj113o/markerbus.png',
      title: 'Bandar Udara Internasional Soekarno Hatta'
  });
      markerlokasi.addListener('click', function() {
      infoWindowlokasi.open(map, markerlokasi);
  });
      marker.addListener('click', function() {
      infowindow.setContent(contentString);
      infowindow.open(map, marker);
  });
      marker2.addListener('click', function() {
      infowindow.setContent(contentString2);
      infowindow.open(map, marker2);
  });
      var flightPlanCoordinates = [dmall,bandarasoetta];
      var flightPath = new google.maps.Polyline({
      path: flightPlanCoordinates,
      geodesic: true,
      strokeColor: '#FF0000',
      strokeOpacity: 1.0,
      strokeWeight: 2
  });

    flightPath.setMap(map);

            // HTML5 geeolokasi
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude,
            };
            markerlokasi.setPosition(pos);
            infoWindowlokasi.open(map, markerlokasi);
            markerlokasi.setTitle('Lokasi Anda: '+(Math.round(pos.lat * 100) / 100)+", "+(Math.round(pos.lng * 100) / 100));
            map.setZoom(8);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
          } else {
            // Browser tidak support geolokasi
            handleLocationError(false, infoWindow, map.getCenter());
            }
}

            function handleLocationError(browserHasGeolocation, infoWindow, pos) {
            infoWindow.setPosition(pos);
            infoWindow.setContent(browserHasGeolocation ?
                                  'Kesalahan: Tidak Dapat Menemukan Lokasi Anda.' :
                                  'Kesalahan: Pastikan Untuk Mengijinkan Browser Mengambil Lokasi Anda (Tekan Allow)!.');
            infoWindow.open(map);
           }

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-XluD442DkNeld3VY12i5L_bk_AxdIRA&callback=initMap">
    </script>
  </body>
</html>