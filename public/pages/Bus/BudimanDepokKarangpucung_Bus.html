<!DOCTYPE html>
<html>
  <head>
    <title>Bus - Budiman(Depok - Karangpucung)</title>
    <style>
       #map {
        height: 800px;
        width: 100%;
       }
    </style>
  </head>
  <body
   style="
    margin-top: 0px;
    margin-left: 0px;
    margin-bottom: 0px;
    margin-right: 0px;
">
    <div id="map"></div>
    <script>
      function initMap() {
        var styledMapType = new google.maps.StyledMapType(
            [ {"featureType": "water","elementType": "all","stylers": [{"hue": "#7fc8ed"},{"saturation": 55},{"lightness": -6},{"visibility": "on" }]},{"featureType": "water","elementType": "labels","stylers": [{ "hue": "#7fc8ed"}, { "saturation": 55 }, {"lightness": -6 }, {
                "visibility": "off" } ] }, { "featureType": "poi.park", "elementType": "geometry", "stylers": [ { "hue": "#83cead"  }, { "saturation": 1 }, {"lightness": -15 }, { "visibility": "on" } ] },{"featureType": "landscape","elementType": "geometry","stylers": [ { "hue": "#f3f4f4" }, { "saturation": -84 },{"lightness": 59}, { "visibility": "on"}]},{ "featureType": "landscape","elementType": "labels","stylers": [ { "hue": "#ffffff"},{"saturation": -100 }, { "lightness": 100 }, { "visibility": "off"}] }, { "featureType": "road", "elementType": "geometry", "stylers": [ { "hue": "#ffffff" }, { "saturation": -100 }, { "lightness": 100 }, { "visibility": "on" } ] }, {  "featureType": "road", "elementType": "labels", "stylers": [{"hue": "#bbbbbb" }, { "saturation": -100 },{ "lightness": 26 },{ "visibility": "on" } ] }, { "featureType": "road.arterial","elementType": "geometry","stylers": [ { "hue": "#ffcc00" }, {"saturation": 100 },{"lightness": -35 }, { "visibility": "simplified" } ] },{ "featureType": "road.highway", "elementType": "geometry", "stylers": [ { "hue": "#ffcc00" }, {"saturation": 100 },{"lightness": -22  }, { "visibility": "on" } ] }, { "featureType": "poi.school","elementType": "all","stylers": [{ "hue": "#d7e4e4" }, { "saturation": -60 }, { "lightness": 23 }, { "visibility": "on" } ]}],
            {name: 'Styled Map'});

  var termdepok={lat: -6.3921714, lng: 106.8242779};
  var termkarpuc={lat: -7.4566052, lng: 108.6894865};
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 8,
      // center: {lat:-6.8261859, lng:107.5252896},
      center: termdepok,
      mapTypeControlOptions: {
            mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain',
                    'styled_map'],
          },
          disableDefaultUI: true
  });

    map.setOptions({ minZoom: 5, maxZoom: 50 });
        map.mapTypes.set('styled_map', styledMapType);
        map.setMapTypeId('styled_map');

      var contentStringLokasi = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h3 id="firstHeading" class="firstHeading">Lokasi Anda</h3>'+
          '</div>'+
          '</div>';

       var contentString = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">Terminal Depok</h1>'+
          '<div id="bodyContent">'+
        'Terminal bus kota Depok terletak di Jl.Margonda Raya tepatnya berada disamping pusat belanja ITC Depok, di depan Depok Plaza , Di belakang stasiun kereta Depok Baru'+
        '<h5>Pencarian Google: <a target="_blank" href="https://www.google.co.id/search?q=terminal+depok&rlz=1C1CHBF_enID787ID787&oq=terminal+depok+&aqs=chrome..69i57j69i60l3j0l2.5369j0j7&sourceid=chrome&ie=UTF-8">'+
        'Terminal Depok</a>'+
        '</h5>'+
          '</div>'+
          '</div>';
        
      var contentString2 = '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">Terminal Bus Karangpucung</h1>'+
          '<div id="bodyContent">'+
        'Terminal Bus Karangpucung berada di Karangpucung, Kabupaten Cilacap, Jawa Tengah.'+
         '<h5>Pencarian Google: <a target="_blank" href="https://www.google.co.id/search?hl=id&ei=_PYTW6XzNoT89QOxnIDwCg&q=terminal+karang+pucung+&oq=terminal+karang+pucung+&gs_l=psy-ab.3..0i13k1l2j0i13i30k1j0i22i10i30k1l5j0i8i13i30k1.182663.185669.0.185947.14.14.0.0.0.0.134.1054.12j2.14.0....0...1c.1.64.psy-ab..0.14.1051...0j35i39k1j0i203k1j0i10k1j0i22i30k1.0.G1Ynojhjv_4">'+
        'Terminal Karangpucung</a>'+
        '</h5>'+
          '</div>'+
          '</div>';

      var infowindow = new google.maps.InfoWindow({
  });
  
      var markerlokasi = new google.maps.Marker({
      map: map,
      draggable: false,
      icon: 'https://thumb.ibb.co/dEh29T/markerlocation.png',
      animation: google.maps.Animation.DROP
  });

      var infoWindowlokasi = new google.maps.InfoWindow({
      content: contentStringLokasi
  });

      var marker = new google.maps.Marker({
      position: termdepok,
      map: map,
      animation: google.maps.Animation.DROP,
      icon: 'https://thumb.ibb.co/gj113o/markerbus.png',
      title: 'Terminal Depok'
  });
      var marker2 = new google.maps.Marker({
      position: termkarpuc,
      map: map,
      animation: google.maps.Animation.DROP,
      icon: 'https://thumb.ibb.co/gj113o/markerbus.png',
      title: 'Terminal Karangpucung'
  });
      markerlokasi.addListener('click', function() {
      infoWindowlokasi.open(map, markerlokasi);
  });
      marker.addListener('click', function() {
      infowindow.setContent(contentString);
      infowindow.open(map, marker);
  });
      marker2.addListener('click', function() {
      infowindow.setContent(contentString2);
      infowindow.open(map, marker2);
  });
      var flightPlanCoordinates = [termdepok,termkarpuc];
      var flightPath = new google.maps.Polyline({
      path: flightPlanCoordinates,
      geodesic: true,
      strokeColor: '#FF0000',
      strokeOpacity: 1.0,
      strokeWeight: 2
  });

    flightPath.setMap(map);

            // HTML5 geeolokasi
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude,
            };
            markerlokasi.setPosition(pos);
            infoWindowlokasi.open(map, markerlokasi);
            markerlokasi.setTitle('Lokasi Anda: '+(Math.round(pos.lat * 100) / 100)+", "+(Math.round(pos.lng * 100) / 100));
            map.setZoom(8);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
          } else {
            // Browser tidak support geolokasi
            handleLocationError(false, infoWindow, map.getCenter());
            }
}

            function handleLocationError(browserHasGeolocation, infoWindow, pos) {
            infoWindow.setPosition(pos);
            infoWindow.setContent(browserHasGeolocation ?
                                  'Kesalahan: Tidak Dapat Menemukan Lokasi Anda.' :
                                  'Kesalahan: Pastikan Untuk Mengijinkan Browser Mengambil Lokasi Anda (Tekan Allow)!.');
            infoWindow.open(map);
           }

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-XluD442DkNeld3VY12i5L_bk_AxdIRA&callback=initMap">
    </script>
  </body>
</html>